var tooltipText,margin={left:50,right:20,top:20,bottom:40},height=300-margin.top-margin.bottom,width=d3.select("#graphs").node().offsetWidth-margin.left-margin.right,x=d3.scalePoint().rangeRound([0,width]).padding(.1),y=d3.scaleLinear().rangeRound([height,0]),blue="#0984e3",thisNode=d3.select("#main-graph");thisNode.append("svg"),thisNode.append("div").attr("class","tooltip");var tooltip=thisNode.select(".tooltip"),line=d3.line().x(function(t){return x(t.year)}).y(function(t){return y(t.num)}),data=[{year:1900,num:5},{year:2018,num:10}];thisNode.select("svg").selectAll("*").remove(),x.domain(data.map(function(t){return""+t.year})),y.domain([0,d3.max(data,function(t){return t.num})]),x.invert=d3.scaleQuantize().domain(x.range()).range(x.domain());var svg=thisNode.select("svg").attr("width",width+margin.left+margin.right).attr("height",height+margin.top+margin.bottom).on("mousemove",function(){for(var t,e=x.invert(d3.mouse(this)[0]),a=0;a<data.length;a++)if(data[a].x==e){t=data[a-1];break}tooltip.classed("hidden",!1).html("hi"),tooltip.style("left",x(t.year)+margin.left-Math.round(tooltip.node().offsetWidth/2)+"px").style("top",y(d3.max(t.num))-Math.round(tooltip.node().offsetHeight)-12+margin.top+"px")}).on("mouseout",function(t){var e=d3.event.toElement;e&&e.parentNode.parentNode!=this.parentNode&&e.parentNode!=this.parentNode&&e!=this.parentNode&&tooltip.classed("hidden",!0)}).append("g").attr("transform","translate("+margin.left+","+margin.top+")");svg.append("path").data([data]).attr("class","line").style("stroke",blue).style("stroke-width","2px").style("fill","none").attr("d",line),svg.selectAll(".dot").data(data).enter().append("circle").attr("class","dot").style("fill",blue).attr("cx",function(t){return x(t.year)}).attr("cy",function(t){return y(t.num)}).attr("r",5),svg.append("g").style("font-family","source_sans_pro").attr("transform","translate(0,"+height+")").call(d3.axisBottom(x)),svg.append("g").style("font-family","source_sans_pro").call(d3.axisLeft(y)),svg.append("text").attr("transform","rotate(-90)").attr("y",0-margin.left+10).attr("x",0-height/2).attr("dy","1em").style("text-anchor","middle").style("font-family","source_sans_pro").style("font-weight","bold").text("Number of Cartoons"),svg.append("text").attr("transform","translate("+width/2+" ,"+(height+margin.top+10)+")").style("text-anchor","middle").style("font-family","source_sans_pro").style("font-weight","bold").text("Year");